{
  "version": 3,
  "file": "index.js",
  "sourceRoot": "..",
  "sources": [
    "src\\index.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "module.exports =\r\n  go: ->\r\n    (scope, elem, props) ->\r\n      scope.$use 'router'\r\n      scene = scope.router.parsePath props.go\r\n      listener = (event) ->\r\n        scope.router.go scene.name, scene.data\r\n      elem.addEventListener 'mousedown', listener\r\n      scope.$on 'teardown', ->\r\n        elem.removeEventListener 'mousedown', listener\r\n  hide: ->\r\n    (scope, elem, props) ->\r\n      if props.hide and props.hide isnt 'false'\r\n        elem.className += ' hidden'\r\n  press: (app) ->\r\n    (scope, elem, props) ->\r\n      console.log 'setting up press'\r\n      if /\\(/.test props.press\r\n        listener = (event) ->\r\n          console.log 'pressed'\r\n          app.$eval props.press, scope\r\n      else\r\n        listener = app.$eval props.press, scope\r\n      if typeof(listener) is 'function'\r\n        elem.addEventListener 'mousedown', listener\r\n        scope.$on 'teardown', ->\r\n          elem.removeEventListener 'mousedown', listener\r\n  repeat: (app) ->\r\n    pre: (scope, elem, props) ->\r\n      arr = app.$eval(props.repeat, scope)\r\n      if arr\r\n        return arr.map (item, i) ->\r\n          newscope = app.Scope scope\r\n          newscope.item = item\r\n          newscope.index = i\r\n          newscope.first = i is 0\r\n          newscope.last = i is arr.length - 1\r\n          newscope.dataid = app.$hash JSON.stringify app.$hashObject newscope\r\n          newscope\r\n      else\r\n        return []\r\n  controller: (app) ->\r\n    pre: (scope, elem, props) ->\r\n      ctrl = app.components[props.controller.toUpperCase()]\r\n      ctrl.controller scope if ctrl\r\n      null\r\n  router: (app) ->\r\n    callbacks = app.Callbacks()\r\n    scenes = {}\r\n    currentscene = null\r\n    routerScope = null\r\n    rendered = false\r\n    bootstrapped = false\r\n    checkScenePath = (pathname, route) ->\r\n      params = []\r\n      reg = route.replace /:(\\w+)/g, (all, param) ->\r\n        params.push param\r\n        '([^/]+)'\r\n      regex = new RegExp '^' + reg + '$'\r\n      data = {}\r\n      if m = pathname.match regex\r\n        for match, i in m\r\n          continue if i is 0\r\n          data[params[i - 1]] = match\r\n        return data\r\n      else\r\n        return null\r\n    parsePath = (pathname) ->\r\n      for name, scene of scenes\r\n        if data = checkScenePath pathname, scene.route\r\n          return\r\n            name: scene.name\r\n            data: data\r\n    go = (name, data, firstTime) ->\r\n      if currentscene.name is name and JSON.stringify(currentscene.data) is JSON.stringify(data) and not firstTime\r\n        return\r\n      nextscene = scenes[name]\r\n      return if not nextscene\r\n      try\r\n        await callbacks.$call 'sceneWillChange',\r\n          from: currentscene\r\n          to: nextscene\r\n      catch e\r\n        go e.redirect if e.redirect\r\n        return\r\n      if currentscene\r\n        app.$removeClass currentscene.scene, ['yma-router-active', 'yma-transition-in']\r\n        app.$addClass currentscene.scene, ['yma-router-parked', 'yma-transition-out']\r\n        await app.$teardownChildren app.$makeId currentscene.scene\r\n      await app.$teardownChildren app.$makeId nextscene.scene\r\n      currentscene = nextscene\r\n      currentscene.data = data or {}\r\n      routerScope.data = data\r\n      if nextscene.component\r\n        nextscene.scene.innerHTML = '<' + nextscene.component + '>' + nextscene.html + '</' + nextscene.component + '>'\r\n      else\r\n        nextscene.scene.innerHTML = nextscene.html\r\n      await app.$renderChildren nextscene.scene, routerScope\r\n      app.$removeClass nextscene.scene, ['yma-router-parked', 'yma-transition-out']\r\n      app.$addClass nextscene.scene, ['yma-router-active', 'yma-transition-in']\r\n      routes = currentscene.route.replace /:(\\w+)/g, (all, param) ->\r\n        currentscene.data[param]?.toString() or all\r\n      .split /\\|/g\r\n      route = ''\r\n      for r in routes\r\n        if r.length > route.length and not /:/.test r\r\n          route = r\r\n      window.history.pushState route, null, route if route isnt window.location.pathname\r\n    controller: (scope, elem) ->\r\n      routerScope = scope\r\n      if currentscene\r\n        routerScope.data = currentscene.data\r\n      else\r\n        scope.$on 'bootstrap', ->\r\n          return if bootstrapped\r\n          for scene in elem.querySelectorAll 'scene'\r\n            props = app.$getProps scene\r\n            props.scene = scene\r\n            props.html = scene.innerHTML\r\n            params = []\r\n            if props.route\r\n              if data = checkScenePath props.route, window.location.pathname\r\n                props.data = data\r\n                scope.data = data\r\n                currentscene = props\r\n            scenes[props.name] = props\r\n            currentscene = props if (typeof(props.default) isnt 'undefined') and not currentscene\r\n            currentscene = props if props.name is currentscene.name\r\n            scene.removeAttribute 'route'\r\n            app.$addClass scene, 'yma-router-parked'\r\n          bootstrapped = true\r\n          go currentscene.name, currentscene.data, true if rendered and bootstrapped\r\n      firstTime = ->\r\n        if not rendered\r\n          rendered = true\r\n          go currentscene.name, currentscene.data, true if rendered and bootstrapped\r\n        app.$off 'rendered', firstTime\r\n      app.$on 'rendered', firstTime\r\n      routerScope.$on 'update', ->\r\n        for name, scene of scenes\r\n          scene.scene = elem.querySelector 'scene[name=\"' + scene.name + '\"]'\r\n          app.$removeClass scene.scene, 'yma-router-active'\r\n          app.$addClass scene.scene, 'yma-router-parked'\r\n        app.$removeClass currentscene.scene, 'yma-router-parked'\r\n        app.$addClass currentscene.scene, 'yma-router-active'\r\n    service: ->\r\n      go: go\r\n      $on: callbacks.$on\r\n      parsePath: parsePath\r\n  model: (app) ->\r\n    (scope, elem, props) ->\r\n      setValue = ->\r\n        if elem.value isnt app.$eval props.model\r\n          elem.value = app.$eval props.model, scope\r\n      setValue()\r\n      updateModel = (event) ->\r\n        scope[props.model] = elem.value\r\n        scope.$update()\r\n      elem.addEventListener 'keyup', updateModel\r\n      scope.$on 'teardown', ->\r\n        elem.removeEventListener 'keyup', updateModel\r\n      scope.$on 'update', setValue\r\n  autofocus: ->\r\n    (scope, elem) ->\r\n      elem.focus()\r\n"
  ]
}